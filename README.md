# Паттерн Стратегия

Паттерн стратегия позволяет при создании сущности задавать поведение и менять его в процессе выполнения кода с помощью _Композиции_. 
При создании классов одинаковой сущности, основанных на одном интерфейсе, в конструкторе передаются свойства(или поведение) этой сущности, с которыми сущность умеет работать. 
Так, сущность знает, что свойства(поведение) реализуют один интерфейс, где есть метод. Класс-сущность может вызвать этот метод и ему не важно, каким образом метод реализован. 

Таким образом, мы следуем принципу __полиморфизма__. 

Также разные сущности могут иметь одинаковое поведение. Его можно было бы реализовать внутри сущности, но тогда мы бы начали дублировать код. Эта проблема решается, созданием классов, описывающих поведение. Их можно применять для нескольких сущностей, однако реализация поведения будет написана только 1 раз.

Так будет выполняться принцип __инкапсуляции__. 

Задача:
>Реализовать программный продукт, выполняющий подсчет заработной платы сотрудника за
месяц в зависимости от типа его занятости – полная рабочая неделя (40 часов), сокращенная
рабочая неделя для лиц от 16 до 18 лет (36 часов) и сокращенная рабочая неделя для лиц
младше 16 лет (24 часа). Стоимость часа работы выбрать самостоятельно. При разработке
использовать поведенческий паттерн проектирования «Стратегия».

Для решение данной задачи были созданы классы [Employee](src/classes/Employee.ts) и [PaymentTerm](src/classes/PaymentTerm.ts)

Был использован паттерн __Стратегия__, позволяющий не создавать громозкую условную конструкцию в `Employee` классе, внутри которого, в зависимости от того, сколько лет работнику, вычислялась бы его месячная зарплата: 
> Если младше 16, то 24 часа, Если от 16 до 18, то 36, а если старше 18, то все 40

Благодаря _Стратегии_, при создании нового вида работника, за ним закрепляется "условия труда", а какие мы выбираем сами

- `Employee` - композиция. Хранит данные о работнике (`name`, `age`) и функция по получению месячной зарплаты (`getMonthSalary`), которая обращается к свойству `paymentTerm`, где хранится экземпляр класса `PaymentTerm`
- `PaymentTerm` - стратегия. Хранит кол-во часов (`workingHours`) и функцию, возвращаующую недельную плату (`getWeekSalary`).

При создании экземпляра `Employee` (н-р, [AdultEmployee](src/classes/employees/AdultEmployee.ts)), необходимо передать в конструктор экземпляр класса `PaymentTerm`, определив тем самым, какие у работника условия труда и сколько он должен отработать часов в неделю (н-р, [FullTimePayment](src/classes/payment-terms/FullTimePayment.ts))

Для удобства при заполнении формы и получении недельной платы, выбор нужного класса работника(`AdultEmployee`, `YoungEmployee`, etc.) был инкапсулирован в _Фабрике_ `EmployeeFactory`, которая в зависимости от возраста работника, возвращала _дочений класс `Employee`_, к которому работник относится. В нем уже было установлено кол-во рабочих часов и недельная плата (через `paymentTerm` свойство, заданное внутри дочернего класса)